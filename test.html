<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Software Architecture Foundations: An Interactive Infographic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            color: #1e293b;
        }
        .section-title-text {
            border-bottom: 3px solid #3b82f6;
        }
        .card {
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s, box-shadow 0.3s;
            overflow: hidden; /* Needed for child animations */
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        .icon {
            width: 50px;
            height: 50px;
            stroke-width: 1.5;
        }
        .advantage-card {
            border-left: 4px solid #22c55e;
        }
        .disadvantage-card {
            border-left: 4px solid #f97316;
        }
        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.7s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .collapsible-toggle {
            display: none;
        }
        .collapsible-toggle:checked ~ .collapsible-content {
            max-height: 2000px; /* Large enough for content */
        }
        .collapsible-toggle:checked ~ .section-title .chevron,
        .collapsible-toggle:checked ~ .fallacy-label .chevron,
        .collapsible-toggle:checked ~ .team-label .chevron {
            transform: rotate(180deg);
        }
        .section-title, .fallacy-label, .team-label {
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        .chevron {
            transition: transform 0.3s ease-in-out;
        }
        .team-card {
            background: linear-gradient(135deg, #60a5fa, #3b82f6);
            color: white;
        }
        .diagram-text {
            font-family: 'Inter', sans-serif;
            font-size: 12px;
            fill: #334155;
        }
        .fallacy-question {
            background-color: #f8fafc;
            border: 1px solid #e2e8f0;
        }
        .fallacy-answer {
             background-color: #fffbeb;
             border-left: 4px solid #f59e0b;
             padding: 1rem;
        }
    </style>
</head>
<body class="p-4 md:p-8">
    <div class="max-w-6xl mx-auto">
        <header class="text-center mb-12">
            <h1 class="text-4xl md:text-5xl font-bold text-blue-600">Chapter 9: Foundations of Software Architecture</h1>
            <p class="text-lg text-slate-600 mt-2">An interactive guide to the core concepts, patterns, and trade-offs.</p>
        </header>

        <main class="space-y-8">
            <!-- Styles vs. Patterns -->
            <section id="styles-vs-patterns" class="card">
                <input type="checkbox" id="toggle-styles" class="collapsible-toggle" checked>
                <label for="toggle-styles" class="section-title p-8 justify-between">
                    <div class="flex items-center space-x-4">
                        <svg class="icon text-blue-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"></path></svg>
                        <h2 class="text-3xl font-bold section-title-text pb-2">Styles vs. Patterns</h2>
                    </div>
                    <svg class="chevron w-8 h-8 text-slate-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
                </label>
                <div class="collapsible-content">
                    <div class="grid md:grid-cols-2 gap-8 px-8 pb-8">
                        <div>
                            <h3 class="text-2xl font-semibold mb-3 text-blue-700">Architecture Style</h3>
                            <p class="text-slate-700">Describes the overall shape and characteristics of an architecture. It's a blueprint defining:</p>
                            <ul class="list-disc list-inside mt-4 space-y-2 text-slate-600">
                                <li><strong>Component Topology:</strong> How components are organized (e.g., layers, modules).</li>
                                <li><strong>Physical Architecture:</strong> Monolithic or distributed deployment.</li>
                                <li><strong>Deployment:</strong> Frequency and granularity of releases.</li>
                                <li><strong>Communication Style:</strong> How components interact (e.g., method calls, REST, messaging).</li>
                                <li><strong>Data Topology:</strong> How data is structured (e.g., single monolithic DB, separate DBs).</li>
                            </ul>
                        </div>
                         <div>
                            <h3 class="text-2xl font-semibold mb-3 text-blue-700">Architecture Pattern</h3>
                            <p class="text-slate-700">A contextualized, reusable solution to a commonly occurring problem within a given context. It's more specific than a style.</p>
                            <div class="mt-4 p-4 bg-blue-50 border-l-4 border-blue-400 rounded-r-lg">
                                <p><strong class="font-semibold">Key takeaway:</strong> A <span class="font-bold text-blue-600">style</span> is the high-level strategy for the whole system, while a <span class="font-bold text-blue-600">pattern</span> is a tactical, proven solution for a part of it. New styles often emerge from combining new ecosystem capabilities with existing patterns.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Big Ball of Mud -->
            <section id="big-ball-of-mud" class="card">
                <input type="checkbox" id="toggle-mud" class="collapsible-toggle" checked>
                <label for="toggle-mud" class="section-title p-8 bg-red-50 justify-between">
                     <div class="flex items-center space-x-4">
                        <svg class="icon text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M18.364 18.364A9 9 0 005.636 5.636m12.728 12.728A9 9 0 015.636 5.636m12.728 12.728L5.636 5.636"></path></svg>
                        <h2 class="text-3xl font-bold section-title-text !border-red-500 pb-2">The Anti-Pattern: Big Ball of Mud</h2>
                    </div>
                     <svg class="chevron w-8 h-8 text-slate-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
                </label>
                <div class="collapsible-content">
                    <div class="px-8 pb-8 bg-red-50">
                        <p class="text-slate-700 mb-4">This describes the <strong class="text-red-600">absence of a discernible architecture</strong>. It's a haphazardly structured, sprawling, and sloppy system.</p>
                        <div class="grid md:grid-cols-2 gap-8 items-center">
                            <div>
                                <h4 class="font-semibold text-lg text-red-700">Symptoms:</h4>
                                <ul class="list-disc list-inside mt-2 space-y-1 text-slate-600">
                                    <li>Unregulated growth and repeated, expedient repairs.</li>
                                    <li>Information is shared promiscuously (global data, duplication).</li>
                                    <li>High coupling: nearly all parts are connected to all other parts.</li>
                                    <li>Changes are terrifying and have unpredictable ripple effects.</li>
                                </ul>
                                <h4 class="font-semibold text-lg text-red-700 mt-4">Consequences:</h4>
                                <ul class="list-disc list-inside mt-2 space-y-1 text-slate-600">
                                   <li>Extremely difficult to change or maintain.</li>
                                   <li>Poor testability, scalability, and performance.</li>
                                   <li>Developer time is spent chasing bugs, not adding features.</li>
                                </ul>
                            </div>
                            <div class="text-center p-4">
                               <svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" class="max-w-xs mx-auto">
                                    <defs>
                                        <filter id="glow">
                                            <feGaussianBlur stdDeviation="1.5" result="coloredBlur"/>
                                            <feMerge>
                                                <feMergeNode in="coloredBlur"/>
                                                <feMergeNode in="SourceGraphic"/>
                                            </feMerge>
                                        </filter>
                                    </defs>
                                    <circle cx="100" cy="100" r="95" fill="none" stroke="#ef4444" stroke-width="1"/>
                                    <g id="mud-lines" filter="url(#glow)"></g>
                                </svg>
                                <p class="text-sm text-slate-500 mt-2 italic">A diagram representing extreme, chaotic coupling.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Architecture Partitioning -->
            <section id="partitioning" class="card">
                <input type="checkbox" id="toggle-partitioning" class="collapsible-toggle" checked>
                <label for="toggle-partitioning" class="section-title p-8 justify-between">
                     <div class="flex items-center space-x-4">
                        <svg class="icon text-blue-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-1.621-.87a3 3 0 01-.879-2.122v-1.007m-9 0a9 9 0 0118 0v1.007a3 3 0 01-1.11 2.259l-1.622.871M3 6.75l.161.871M21 6.75l-.161.871M3 6.75h18M3 6.75a9 9 0 0018 0h-18z"></path></svg>
                        <h2 class="text-3xl font-bold section-title-text pb-2">Architecture Partitioning: The First Big Decision</h2>
                    </div>
                     <svg class="chevron w-8 h-8 text-slate-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
                </label>
                <div class="collapsible-content">
                    <div class="px-8 pb-8">
                        <p class="text-slate-700 mb-6">The way you partition components at the top level fundamentally defines your architecture style. It's a critical choice with significant trade-offs.</p>
                        <div class="grid md:grid-cols-2 gap-8">
                            <!-- Technical Partitioning -->
                            <div class="p-6 border rounded-lg">
                                <h3 class="text-2xl font-semibold mb-3 text-blue-700">Technical Partitioning (Layered)</h3>
                                <div class="w-full h-auto rounded-lg mb-4 border p-4 flex justify-center items-center">
                                    <svg viewBox="0 0 250 200" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto max-w-sm">
                                        <rect x="20" y="10" width="210" height="120" rx="5" stroke="#9ca3af" fill="#f3f4f6" stroke-width="1.5"/>
                                        <rect x="30" y="20" width="190" height="25" rx="3" stroke="#6b7280" fill="white"/> <text x="125" y="37" class="diagram-text" text-anchor="middle">Presentation</text>
                                        <rect x="30" y="50" width="190" height="25" rx="3" stroke="#6b7280" fill="white"/> <text x="125" y="67" class="diagram-text" text-anchor="middle">Business Rules</text>
                                        <rect x="30" y="80" width="190" height="25" rx="3" stroke="#6b7280" fill="white"/> <text x="125" y="97" class="diagram-text" text-anchor="middle">Service</text>
                                        <rect x="30" y="110" width="190" height="25" rx="3" stroke="#6b7280" fill="white"/> <text x="125" y="127" class="diagram-text" text-anchor="middle">Persistence</text>
                                        <ellipse cx="125" cy="160" rx="40" ry="15" fill="#3b82f6" stroke="#1d4ed8"/> <rect x="85" y="160" width="80" height="20" fill="#3b82f6"/> <ellipse cx="125" cy="180" rx="40" ry="15" fill="#3b82f6" stroke="#1d4ed8" stroke-linejoin="round"/> <ellipse cx="125" cy="160" rx="40" ry="15" fill="rgba(255,255,255,0.2)" stroke="#1d4ed8"/> <text x="125" y="173" class="diagram-text" fill="white" text-anchor="middle">Database</text>
                                        <path d="M125 135 L125 145" stroke="#334155" stroke-width="2"/> <path d="M120 140 L125 145 L130 140" stroke="#334155" stroke-width="2" fill="none"/>
                                    </svg>
                                </div>
                                <p class="mb-4">Components are organized by their technical capability.</p>
                                <div class="advantage-card p-4 rounded-lg bg-green-50 mb-4">
                                    <h5 class="font-bold text-green-800">Advantages:</h5>
                                    <ul class="list-disc list-inside text-sm text-slate-600">
                                        <li>Clear separation of technical concerns.</li> <li>Easy for developers to find code by its technical type.</li> <li>Aligns with classic patterns like Model-View-Controller (MVC).</li>
                                    </ul>
                                </div>
                                <div class="disadvantage-card p-4 rounded-lg bg-orange-50">
                                    <h5 class="font-bold text-orange-800">Disadvantages:</h5>
                                    <ul class="list-disc list-inside text-sm text-slate-600">
                                        <li>A single business feature is smeared across all layers.</li> <li>Changes to a feature require touching multiple, highly-coupled layers.</li> <li>Can lead to organizational silos.</li>
                                    </ul>
                                </div>
                            </div>
                            <!-- Domain Partitioning -->
                            <div class="p-6 border rounded-lg">
                                <h3 class="text-2xl font-semibold mb-3 text-blue-700">Domain Partitioning (Modular)</h3>
                                 <div class="w-full h-auto rounded-lg mb-4 border p-4 flex justify-center items-center">
                                   <svg viewBox="0 0 250 200" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto max-w-sm">
                                        <rect x="20" y="10" width="210" height="120" rx="5" stroke="#9ca3af" fill="#f3f4f6" stroke-width="1.5"/>
                                        <rect x="30" y="20" width="90" height="25" rx="3" stroke="#6b7280" fill="white"/> <text x="75" y="31" class="diagram-text" text-anchor="middle"> <tspan x="75">Catalog</tspan> <tspan x="75" dy="12">Checkout</tspan> </text>
                                        <rect x="130" y="20" width="90" height="25" rx="3" stroke="#6b7280" fill="white"/> <text x="175" y="31" class="diagram-text" text-anchor="middle"> <tspan x="175">Update</tspan> <tspan x="175" dy="12">Inventory</tspan> </text>
                                        <rect x="30" y="50" width="90" height="25" rx="3" stroke="#6b7280" fill="white"/> <text x="75" y="61" class="diagram-text" text-anchor="middle"> <tspan x="75">Ship To</tspan> <tspan x="75" dy="12">Customer</tspan> </text>
                                        <rect x="130" y="50" width="90" height="25" rx="3" stroke="#6b7280" fill="white"/> <text x="175" y="67" class="diagram-text" text-anchor="middle">Reporting</text>
                                        <rect x="30" y="80" width="90" height="25" rx="3" stroke="#6b7280" fill="white"/> <text x="75" y="97" class="diagram-text" text-anchor="middle">Analytics</text>
                                        <rect x="130" y="80" width="90" height="25" rx="3" stroke="#6b7280" fill="white"/> <text x="175" y="91" class="diagram-text" text-anchor="middle"> <tspan x="175">Update</tspan> <tspan x="175" dy="12">Accounts</tspan> </text>
                                        <ellipse cx="125" cy="160" rx="40" ry="15" fill="#3b82f6" stroke="#1d4ed8"/> <rect x="85" y="160" width="80" height="20" fill="#3b82f6"/> <ellipse cx="125" cy="180" rx="40" ry="15" fill="#3b82f6" stroke="#1d4ed8" stroke-linejoin="round"/> <ellipse cx="125" cy="160" rx="40" ry="15" fill="rgba(255,255,255,0.2)" stroke="#1d4ed8"/> <text x="125" y="173" class="diagram-text" fill="white" text-anchor="middle">Database</text>
                                        <path d="M125 130 L125 145" stroke="#334155" stroke-width="2"/> <path d="M120 140 L125 145 L130 140" stroke="#334155" stroke-width="2" fill="none"/>
                                    </svg>
                                </div>
                                <p class="mb-4">Components are organized by business domain or workflow.</p>
                                <div class="advantage-card p-4 rounded-lg bg-green-50 mb-4">
                                    <h5 class="font-bold text-green-800">Advantages:</h5>
                                    <ul class="list-disc list-inside text-sm text-slate-600">
                                        <li>Modeled on how the business actually functions.</li> <li>Easier to build cross-functional teams.</li> <li>Code for a single feature is co-located.</li> <li>Easier future migration to distributed architectures.</li>
                                    </ul>
                                </div>
                                <div class="disadvantage-card p-4 rounded-lg bg-orange-50">
                                    <h5 class="font-bold text-orange-800">Disadvantages:</h5>
                                    <ul class="list-disc list-inside text-sm text-slate-600">
                                        <li>Requires a deeper understanding of the business domain.</li> <li>Shared technical code might be duplicated.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Fallacies of Distributed Computing -->
            <section id="fallacies" class="card">
                <input type="checkbox" id="toggle-fallacies" class="collapsible-toggle" checked>
                <label for="toggle-fallacies" class="section-title p-8 justify-between">
                     <div class="flex items-center space-x-4">
                         <svg class="icon text-red-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"></path></svg>
                        <h2 class="text-3xl font-bold section-title-text !border-red-500 pb-2">Test Your Distributed Systems Intuition</h2>
                    </div>
                     <svg class="chevron w-8 h-8 text-slate-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
                </label>
                <div class="collapsible-content">
                    <div class="px-8 pb-8">
                        <p class="text-slate-700 mb-6">Click on each scenario to see which common fallacy it represents.</p>
                        <div class="space-y-4">
                            <!-- Fallacy Items -->
                            <div class="rounded-lg overflow-hidden">
                                <input type="checkbox" id="fallacy-1" class="collapsible-toggle">
                                <label for="fallacy-1" class="fallacy-label p-4 fallacy-question hover:bg-slate-100 transition">
                                    <span class="font-semibold text-slate-700 flex-grow pr-4">Scenario: Your services work perfectly in staging, but requests start failing intermittently in production after a new router is installed by the Ops team.</span>
                                    <svg class="chevron w-6 h-6 text-slate-500 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
                                </label>
                                <div class="collapsible-content fallacy-answer"><strong>Fallacy #1: The Network Is Reliable.</strong> Real-world networks are not perfect. Hardware changes, packet loss, and other issues mean you must design for failure with timeouts, retries, and circuit breakers.</div>
                            </div>
                            <div class="rounded-lg overflow-hidden">
                                <input type="checkbox" id="fallacy-2" class="collapsible-toggle">
                                <label for="fallacy-2" class="fallacy-label p-4 fallacy-question hover:bg-slate-100 transition">
                                    <span class="font-semibold text-slate-700 flex-grow pr-4">Scenario: To get a customer's full profile, your UI makes 10 separate API calls to different microservices. Each call is fast (50ms), but the page feels sluggish.</span>
                                    <svg class="chevron w-6 h-6 text-slate-500 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
                                </label>
                                <div class="collapsible-content fallacy-answer"><strong>Fallacy #2: Latency Is Zero.</strong> Network calls have non-zero latency that adds up. 10 calls at 50ms each is 500ms of network delay, which users will notice. This is why chatty communication is an anti-pattern.</div>
                            </div>
                            <div class="rounded-lg overflow-hidden">
                                <input type="checkbox" id="fallacy-3" class="collapsible-toggle">
                                <label for="fallacy-3" class="fallacy-label p-4 fallacy-question hover:bg-slate-100 transition">
                                    <span class="font-semibold text-slate-700 flex-grow pr-4">Scenario: To get a customer's name, the `Order` service calls the `Customer` service, which returns the entire 500KB customer object. This works fine until traffic scales up.</span>
                                    <svg class="chevron w-6 h-6 text-slate-500 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
                                </label>
                                <div class="collapsible-content fallacy-answer"><strong>Fallacy #3: Bandwidth Is Infinite.</strong> Transferring unnecessarily large payloads (stamp coupling) consumes network bandwidth and slows everything down, especially under load. APIs should return only the data needed.</div>
                            </div>
                            <div class="rounded-lg overflow-hidden">
                                <input type="checkbox" id="fallacy-4" class="collapsible-toggle">
                                <label for="fallacy-4" class="fallacy-label p-4 fallacy-question hover:bg-slate-100 transition">
                                    <span class="font-semibold text-slate-700 flex-grow pr-4">Scenario: You don't add authentication between internal services because they're all behind the company firewall and VPN.</span>
                                    <svg class="chevron w-6 h-6 text-slate-500 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
                                </label>
                                <div class="collapsible-content fallacy-answer"><strong>Fallacy #4: The Network Is Secure.</strong> A trusted network isn't enough. A single compromised service can become a gateway for an attacker to move laterally through your system. Implement zero-trust security.</div>
                            </div>
                            <div class="rounded-lg overflow-hidden">
                                <input type="checkbox" id="fallacy-11" class="collapsible-toggle">
                                <label for="fallacy-11" class="fallacy-label p-4 fallacy-question hover:bg-slate-100 transition">
                                    <span class="font-semibold text-slate-700 flex-grow pr-4">Scenario: An order fails, but you can't figure out why. You check the logs for the Order service, but the problem happened in the Payment service it called.</span>
                                    <svg class="chevron w-6 h-6 text-slate-500 flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
                                </label>
                                <div class="collapsible-content fallacy-answer"><strong>Fallacy #11: Observability is Optional.</strong> In a distributed system, you can't debug by looking at one service. You need centralized logging, tracing, and metrics to understand the entire request flow across multiple services.</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

             <!-- Team Topologies -->
            <section id="team-topologies" class="card">
                 <input type="checkbox" id="toggle-teams" class="collapsible-toggle" checked>
                <label for="toggle-teams" class="section-title p-8 justify-between">
                     <div class="flex items-center space-x-4">
                         <svg class="icon text-blue-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m-7.284-2.72c.263.264.526.528.789.792a9.094 9.094 0 013.741-.479 3 3 0 014.682-2.72M13.5 21H9.75M13.5 21a9.094 9.094 0 013.741-.479 3 3 0 01-4.682-2.72m-7.284 2.72c-.263-.264-.526-.528-.789-.792a9.094 9.094 0 00-3.741.479 3 3 0 004.682 2.72M6.75 15.75c.263.264.526.528.789.792a9.094 9.094 0 003.741.479 3 3 0 00-4.682 2.72m-7.284-2.72c-.263-.264-.526-.528-.789-.792a9.094 9.094 0 01-3.741.479 3 3 0 014.682 2.72m10.5-11.25h-3.375m3.375 0V1.5m-3.375 3.375V1.5m3.375 3.375h3.375m-3.375-3.375h3.375m-3.375 0V1.5m0 3.375v3.375m-3.375-3.375v3.375m-3.375 0v3.375m0-3.375h3.375m-3.375 0h3.375"></path></svg>
                        <h2 class="text-3xl font-bold section-title-text pb-2">Team Topologies & Conway's Law</h2>
                    </div>
                     <svg class="chevron w-8 h-8 text-slate-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
                </label>
                <div class="collapsible-content">
                    <div class="px-8 pb-8">
                        <div class="mb-6 p-4 bg-slate-100 rounded-lg">
                           <p class="font-semibold text-center text-lg text-slate-800">"Organizations which design systems... are constrained to produce designs which are copies of the communication structures of these organizations." <br/>- Melvin Conway</p>
                        </div>
                        <p class="text-slate-700 mb-6">Your team structure and your architecture are deeply intertwined. A smart architect considers how team organization will support (or hinder) the desired architecture. This is sometimes called the <strong class="font-semibold">"Inverse Conway Maneuver"</strong>â€”designing your team to achieve your target architecture.</p>
                        
                        <div class="grid md:grid-cols-2 gap-6">
                            <!-- Team Cards -->
                            <div class="rounded-lg shadow-lg overflow-hidden">
                                <input type="checkbox" id="team-1" class="collapsible-toggle">
                                <label for="team-1" class="team-label team-card p-6">
                                    <h4 class="font-bold text-xl flex-grow pr-4">Stream-Aligned Teams</h4>
                                    <svg class="chevron w-6 h-6 text-white flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
                                </label>
                                <div class="collapsible-content p-4 text-sm bg-white">Focus on a single stream of work (a product, service, feature set). They are designed for speed and delivering discrete value. Your architecture should empower them to work autonomously.</div>
                            </div>
                            <div class="rounded-lg shadow-lg overflow-hidden">
                                <input type="checkbox" id="team-2" class="collapsible-toggle">
                                <label for="team-2" class="team-label team-card p-6">
                                    <h4 class="font-bold text-xl flex-grow pr-4">Enabling Teams</h4>
                                    <svg class="chevron w-6 h-6 text-white flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
                                </label>
                                <div class="collapsible-content p-4 text-sm bg-white">Bridge capability gaps by providing specialized knowledge and research (e.g., a security or performance team). They collaborate with stream-aligned teams to help them level up.</div>
                            </div>
                            <div class="rounded-lg shadow-lg overflow-hidden">
                                <input type="checkbox" id="team-3" class="collapsible-toggle">
                                <label for="team-3" class="team-label team-card p-6">
                                    <h4 class="font-bold text-xl flex-grow pr-4">Complicated-Subsystem Teams</h4>
                                    <svg class="chevron w-6 h-6 text-white flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
                                </label>
                                <div class="collapsible-content p-4 text-sm bg-white">Manage highly complex parts of the system (e.g., a video processing engine) to reduce the cognitive load on other teams.</div>
                            </div>
                            <div class="rounded-lg shadow-lg overflow-hidden">
                                <input type="checkbox" id="team-4" class="collapsible-toggle">
                                <label for="team-4" class="team-label team-card p-6">
                                    <h4 class="font-bold text-xl flex-grow pr-4">Platform Teams</h4>
                                    <svg class="chevron w-6 h-6 text-white flex-shrink-0" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path></svg>
                                </label>
                                <div class="collapsible-content p-4 text-sm bg-white">Provide internal, self-service tools, APIs, and services that other teams use to build products faster. They create a "paved road" for development.</div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="text-center mt-16 text-slate-500 text-sm">
            <p>Infographic based on "Software Architecture: The Hard Parts" - Chapter 9. Designed to provide a clear, high-level overview of foundational concepts.</p>
        </footer>
    </div>
    <script>
        // Script to generate the "Big Ball of Mud" diagram
        const svg = document.getElementById('mud-lines');
        if (svg) {
            const numPoints = 60;
            const radius = 95;
            const center = 100;
            const points = [];

            for (let i = 0; i < numPoints; i++) {
                const angle = (i / numPoints) * 2 * Math.PI;
                points.push({
                    x: center + radius * Math.cos(angle),
                    y: center + radius * Math.sin(angle)
                });
            }

            let lines = '';
            for (let i = 0; i < 150; i++) {
                const p1 = points[Math.floor(Math.random() * numPoints)];
                const p2 = points[Math.floor(Math.random() * numPoints)];
                lines += `<line x1="${p1.x}" y1="${p1.y}" x2="${p2.x}" y2="${p2.y}" stroke="#f87171" stroke-width="0.5" stroke-opacity="0.7" />`;
            }
            svg.innerHTML = lines;
        }
    </script>
</body>
</html>

